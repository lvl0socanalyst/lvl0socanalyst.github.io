---
layout: post
title:  "Reverse Engineering - Phishing - Telegram Bot"
date:   2025-06-16 21:00:00 +1000
categories: project
---

<style>
  body { font-size: 13px; }
  h1 { font-size: 19px !important; }
  h2 { font-size: 17px !important; }
  h3 { font-size: 15px !important; }
</style>

### Overview

I happened to stumble across an O365 phishing page. When you hit submit it sends a POST request with your data to a telegram bot. This is all fine and dandy except the api key is available for all!

So, today I'm gonna have a poke around and see what I can dig up. 

### What first?

I've booted up a Kali M on my other PC and configured proxychains.

I have a bunch of crappy proxies I bought a few months ago. I've setup a dynamic chain and now I'm good to go.

Gotta cover my butt first. Not sure what logging looks like for telegram bots so better off being safe than sorry.

### Bring in the python

First lets check that this thing is still alive. Fingers crossed

![BotAlive Script](/images/BotAlive.PNG)

- All Telegram bots have the default fields id, first name and username
- GetMe pulls the basic info and is a good way to check if its alive!

![BotAlive Result](/images/BotAliveResult.PNG)
- Hell yeah we got some results
- Evilproxyworkbot (spooky stuff)
- ID might come in handy.

Alright now we got some stuff to work with. Lets keep going.

First I'll check for webhooks and any bot commands that are available to play around with. The output doesn't give us much.

![Bot Commands](/images/BotCommands.PNG)
- This confirms they are using polling to retrieve messages and not webhook

Telegram bots are a bit funny. Once you retrieve a message from the queue they disappear. There is no history. So I've done up a python script that polls the API for new messages as fast as possible without blocking my IP. This in theory means that my script should receive messages first and not the threat actor. Anything juicy will be whacked into a .json I can view later. 

(INSERT Polling script)

Now while that runs in the background lets use the chatid to pull some more info about the chat. 

![Chat ID Recon](/images/chatid_recon.PNG)
- Pulls admins from the chat
- Pulls info about the chat and its capabilities
- Pulls info about members in the chat

![Chat ID Output](/images/chatid_output.PNG)
- @terrajahphp has a direct private chat setup with the bot
- No administrators roles setup. It is simply a chat between a bot and the user

I've pinged it with some commands to try and get a response that might give more to work with but nothing unfortunately.

![Sending basic commands](/images/send_pings.PNG)
- No responses observed. Was hoping for something that'll give me a bit more info.

Alright. I've tried pulling some information from the user @terrajahphp but telegram OSINT isn't my strong suit.

I've found a github repo that has a py script that the following from a user. 
- User ID
- First name
- Last name (if available)
- Username (if available)
- Last seen status (online, offline, recently, last week, last month)
- Biography (about)
- Profile picture download (as JPG)

It uses the python package "telethon". But it requires a telegram account to run it and I can't be bothered setting one up anonymously. Telegram requires mobile numbers to create an account. I've spent the last 30 minutes trying to find a free e-sim service that hasn't already got telegram accounts registered to there numbers. No luck. I'm also not in the mood of buying one.  

So, instead we will just spam the bloke using his own bot instead. 

Also have been polling this thing for 5 hours and haven't had a hit.

### Fun begins

In theory, if I spam the bloke enough from the bot it'll get the bot banned for rate limiting.

I'm going to spam him "sup loser" until the bot gets banned. 

Here's the script

![Flood Script](/images/flood_blocked.PNG)

Here's the output

![Flood Output](/images/first_flood.PNG)

Alright 401. Likely means the bot is cooked and banned.

Let's double check this by using the ```alive.py``` script we created earlier.

![It's Dead](/images/alive_output_flood.PNG)

Well that was easy. Job here is done. 

This was all for educational and research purposes. I actually totally own the bot and user account in this tutorial.